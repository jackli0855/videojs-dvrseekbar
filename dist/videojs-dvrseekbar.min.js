/**
 * videojs-dvrseekbar
 * @version 0.2.6
 * @copyright 2018 ToolBox-tve
 * @license Apache-2.0
 */
!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.videojsDvrseekbar=e()}}(function(){var e;return function e(t,n,r){function o(a,l){if(!n[a]){if(!t[a]){var s="function"==typeof require&&require;if(!l&&s)return s(a,!0);if(i)return i(a,!0);var d=new Error("Cannot find module '"+a+"'");throw d.code="MODULE_NOT_FOUND",d}var u=n[a]={exports:{}};t[a][0].call(u.exports,function(e){var n=t[a][1][e];return o(n||e)},u,u.exports,e,t,n,r)}return n[a].exports}for(var i="function"==typeof require&&require,a=0;a<r.length;a++)o(r[a]);return o}({1:[function(t,n,r){(function(o){/**
 * videojs-dvrseekbar
 * @version 0.2.6
 * @copyright 2018 ToolBox-tve
 * @license Apache-2.0
 */
!function(t){if("object"==typeof r&&void 0!==n)n.exports=t();else if("function"==typeof e&&e.amd)e([],t);else{var i;i="undefined"!=typeof window?window:void 0!==o?o:"undefined"!=typeof self?self:this,i.videojsDvrseekbar=t()}}(function(){return function e(n,r,o){function i(l,s){if(!r[l]){if(!n[l]){var d="function"==typeof t&&t;if(!s&&d)return d(l,!0);if(a)return a(l,!0);var u=new Error("Cannot find module '"+l+"'");throw u.code="MODULE_NOT_FOUND",u}var f=r[l]={exports:{}};n[l][0].call(f.exports,function(e){var t=n[l][1][e];return i(t||e)},f,f.exports,e,n,r,o)}return r[l].exports}for(var a="function"==typeof t&&t,l=0;l<o.length;l++)i(o[l]);return i}({1:[function(e,t,n){(function(e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r="undefined"!=typeof window?window.videojs:void 0!==e?e.videojs:null,o=function(e){return e&&e.__esModule?e:{default:e}}(r),i={startTime:0},a=function(e){var t=e;e<0&&(e=Math.abs(e));var n=Math.floor(e/3600),r=Math.floor((e-3600*n)/60),e=e-3600*n-60*r,o="";return 0!=n&&(o=n+":"),0==r&&""===o||(r=r<10&&""!==o?"0"+r:String(r),o+=r+":"),""===o?o=e+"s":o+=e<10?"0"+e:String(e),t<0&&(o="-"+o),o};o.default.getComponent("Slider").prototype.update=function(){if(this.el_){var e=this.getPercent(),t=this.bar;if(t){("number"!=typeof e||e!==e||e<0||e===1/0)&&(e=0);var n=(100*e).toFixed(2)+"%";0!=e&&(this.vertical()?t.el().style.height=n:t.el().style.width=n)}}};var l=o.default.getComponent("SeekBar");l.prototype.dvrTotalTime=function(e){var t=e.seekable();return t&&t.length?t.end(0)-t.start(0):0},l.prototype.handleMouseMove=function(e){var t=void 0,n=void 0;if((t=n=this.player_.seekable())&&t.length){var r=this.calculateDistance(e)*this.dvrTotalTime(this.player_);for(n=t.start(0)+r;n>=t.end(0);)n-=.1;this.player_.currentTime(n)}},l.prototype.updateAriaAttributes=function(){var e=this.player_.seekable()||[];if(e.length){var t=e.end(0),n=this.player_.getCache().currentTime,r=this.player_.scrubbing?n:this.player_.currentTime(),i=void 0;i=t-r,i<0&&(i=0);var a=o.default.formatTime(i,t),l=Math.round(100*this.getPercent(),2);this.el_.setAttribute("aria-valuenow",l),this.el_.setAttribute("aria-valuetext",(r?"":"-")+a)}};var s=function(e,t){e.addClass("vjs-dvrseekbar"),e.controlBar.addClass("vjs-dvrseekbar-control-bar"),e.controlBar.progressControl&&e.controlBar.progressControl.addClass("vjs-dvrseekbar-progress-control");var n=document.createElement("div"),r=document.createElement("a");n.className="vjs-live-button vjs-control";r.innerHTML='<span class="live-control-indicator"><i class="fa fa-circle"></i></span>'+document.getElementsByClassName("vjs-live-display")[0].innerHTML+'<span class="live-control-delay"></span>',r.id="liveButton",e.paused()||(r.className="vjs-live-label onair");var i=function(t){e.pause(),e.currentTime(e.seekable().end(0));document.getElementsByClassName("live-control-indicator")[0];e.play()};r.addEventListener?r.addEventListener("click",i,!1):r.attachEvent&&r.attachEvent("onclick",function(){return i.apply(r,[window.event])}),n.appendChild(r);var a=document.getElementsByClassName("vjs-control-bar")[0],l=document.getElementsByClassName("vjs-progress-control")[0];a.insertBefore(n,l),o.default.log("dvrSeekbar Plugin ENABLED!",t)},d=function(e,t){var n=e.seekable(),r=(document.getElementById("liveButton"),document.getElementsByClassName("live-control-delay")[0]),o=document.getElementsByClassName("live-control-indicator")[0];if(n&&n.length){e.duration(e.seekable().end(0));var i=parseInt(e.currentTime()-n.end(0));i<-20?(r.innerHTML=a(i),o.className="live-control-indicator inactive"):(o.className="live-control-indicator active",r.innerHTML=""),e.duration(e.seekable().end(0))}},u=function(e){var t=this;e||(e=i),this.on("timeupdate",function(e){d(t)}),this.on("play",function(e){}),this.on("pause",function(e){document.getElementsByClassName("live-control-indicator")[0].className="live-control-indicator inactive"}),this.ready(function(){s(t,o.default.mergeOptions(i,e))})};o.default.plugin("dvrseekbar",u),u.VERSION="0.2.6",n.default=u,t.exports=n.default}).call(this,void 0!==o?o:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[1])(1)})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[1])(1)});